<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.plugin.demo</id>
    <name>IdeaPluginDemo</name>
    <vendor>lichukuan</vendor>

    <depends>com.intellij.modules.platform</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <!--    <extensions defaultExtensionNs="com.intellij">-->
    <!--        <toolWindow factoryClass="com.github.lichukuan.ideaplugindemo.toolWindow.MyToolWindowFactory" id="MyToolWindow"/>-->
    <!--        <postStartupActivity implementation="com.github.lichukuan.ideaplugindemo.startup.MyProjectActivity" />-->
    <!--    </extensions>-->
    <actions>
        <action id="com.plugin.demo.HelloAction"
                class="com.plugin.demo.HelloAction" description="hello world">
            <!--   如果使用快捷键没有效果，可以看一下是否是快捷键冲突了   -->
            <keyboard-shortcut first-keystroke="control alt 9" keymap="$default"/>
        </action>
        <action id="Translator" class="com.plugin.demo.Translator" description="Translator" text="Translator">
            <!-- 绑定快捷键，此处也可以选择不绑定。 -->
            <keyboard-shortcut first-keystroke="control alt 8" keymap="$default"/>
            <!-- 添加到鼠标右键菜单中 -->
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>
        <action id="DialogNotification" class="com.plugin.demo.DialogNotification" description="DialogNotification" text="DialogNotification">
            <!-- 绑定快捷键，此处也可以选择不绑定。 -->
            <keyboard-shortcut first-keystroke="control alt 7" keymap="$default"/>
            <!-- 添加到鼠标右键菜单中 -->
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="HintNotification" class="com.plugin.demo.HintNotification" description="HintNotification" text="HintNotification">
            <!-- 绑定快捷键，此处也可以选择不绑定。 -->
            <keyboard-shortcut first-keystroke="control alt 6" keymap="$default"/>
            <!-- 添加到鼠标右键菜单中 -->
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="TopLevelNotification" class="com.plugin.demo.TopLevelNotification" description="TopLevelNotification" text="TopLevelNotification">
            <!-- 绑定快捷键，此处也可以选择不绑定。 -->
            <keyboard-shortcut first-keystroke="control alt 5" keymap="$default"/>
            <!-- 添加到鼠标右键菜单中 -->
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action class="com.plugin.demo.CaseFormatAction" id="case format" text="code format" description="code format">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 在此处注册我们实现的拓展点 -->
        <applicationConfigurable
                parentId="tools"
                instance="com.plugin.demo.TranslateConfigurable"
                id="com.plugin.demo.TranslateConfigurable"
                displayName="Translator"/>

        <applicationService serviceImplementation="com.plugin.demo.TranslatorSetting"/>

        <projectService serviceImplementation="com.plugin.demo.TranslatorCache"/>

        <!-- 默认的图标有 AllIcons.Actions.AddFile  -->
        <toolWindow id="Translator" anchor="right" factoryClass="com.plugin.demo.TranslatorToolsWindow" icon="TranslatorIcons.TRANS"/>

        <postStartupActivity implementation="com.plugin.demo.TranslatorNotifier"/>

        <editorNotificationProvider implementation="com.plugin.demo.BannerNotificationProvider"/>
    </extensions>
    <projectListeners>
        <listener class="com.plugin.demo.InitTranslatorWindowListener"
                  topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener"/>

        <listener class="com.plugin.demo.TranslatorActionListenerA"
                  topic="com.plugin.demo.TranslateListener"/>

        <listener class="com.plugin.demo.TranslatorActionListenerB"
                  topic="com.plugin.demo.TranslateListener"/>

    </projectListeners>
</idea-plugin>
